<!DOCTYPE html>
<html lang="es" data-theme="dark">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ejemplo - Generador de Nubes</title>
  <style>
    /* Variables de la forma de la nube */
    :root {
      --nube: polygon(
        99.426% 44.728%, 99.426% 44.728%, 99.871% 41.37%, 99.98% 37.982%, 99.78% 34.598%,
        99.298% 31.252%, 98.561% 27.979%, 97.597% 24.812%, 96.432% 21.786%, 95.095% 18.935%,
        93.611% 16.293%, 92.009% 13.895%, 92.009% 13.895%, 90.386% 11.942%, 88.654% 10.355%,
        86.828% 9.112%, 84.925% 8.191%, 82.96% 7.57%, 80.948% 7.227%, 78.907% 7.141%,
        76.851% 7.288%, 74.797% 7.648%, 72.759% 8.198%, 72.759% 8.198%, 71.935% 8.479%,
        71.117% 8.802%, 70.308% 9.166%, 69.509% 9.573%, 68.72% 10.022%, 67.943% 10.512%,
        67.179% 11.044%, 66.429% 11.618%, 65.695% 12.234%, 64.978% 12.891%, 64.978% 12.891%,
        64.649% 12.219%, 64.312% 11.557%, 63.967% 10.909%, 63.614% 10.272%, 63.253% 9.649%,
        62.886% 9.04%, 62.511% 8.446%, 62.129% 7.866%, 61.741% 7.301%, 61.347% 6.752%,
        61.347% 6.752%, 59.724% 4.799%, 57.992% 3.213%, 56.166% 1.97%, 54.263% 1.049%,
        52.297% 0.428%, 50.286% 0.085%, 48.245% -0.002%, 46.189% 0.145%, 44.134% 0.505%,
        42.097% 1.055%, 42.097% 1.055%, 40.406% 1.679%, 38.751% 2.481%, 37.142% 3.46%,
        35.59% 4.616%, 34.105% 5.948%, 32.698% 7.458%, 31.379% 9.143%, 30.159% 11.005%,
        29.048% 13.042%, 28.058% 15.255%, 28.058% 15.255%, 27.516% 14.778%, 26.964% 14.337%,
        26.402% 13.933%, 25.83% 13.569%, 25.248% 13.244%, 24.658% 12.962%, 24.058% 12.723%,
        23.45% 12.528%, 22.833% 12.38%, 22.208% 12.279%, 22.208% 12.279%, 20.213% 12.271%,
        18.266% 12.683%, 16.375% 13.478%, 14.546% 14.621%, 12.787% 16.076%, 11.105% 17.808%,
        9.507% 19.78%, 7.999% 21.958%, 6.591% 24.305%, 5.287% 26.786%, 5.287% 26.786%,
        4.106% 29.369%, 3.047% 32.078%, 2.125% 34.894%, 1.351% 37.802%, 0.74% 40.785%,
        0.303% 43.825%, 0.054% 46.906%, 0.005% 50.011%, 0.171% 53.123%, 0.563% 56.225%,
        0.563% 56.225%, 0.803% 57.519%, 1.083% 58.778%, 1.403% 60.002%, 1.761% 61.191%,
        2.155% 62.345%, 2.585% 63.464%, 3.048% 64.548%, 3.543% 65.596%, 4.069% 66.608%,
        4.625% 67.585%, 4.625% 67.585%, 4.542% 68.011%, 4.464% 68.44%, 4.393% 68.871%,
        4.327% 69.305%, 4.268% 69.741%, 4.213% 70.178%, 4.164% 70.615%, 4.121% 71.051%,
        4.083% 71.488%, 4.051% 71.922%, 4.051% 71.922%, 3.996% 73.58%, 4.052% 75.222%,
        4.213% 76.837%, 4.474% 78.417%, 4.83% 79.951%, 5.276% 81.431%, 5.804% 82.847%,
        6.411% 84.19%, 7.09% 85.449%, 7.837% 86.616%, 7.837% 86.616%, 8.563% 87.542%,
        9.34% 88.315%, 10.161% 88.942%, 11.018% 89.43%, 11.905% 89.786%, 12.816% 90.016%,
        13.742% 90.129%, 14.676% 90.131%, 15.613% 90.029%, 16.545% 89.83%, 16.545% 89.83%,
        16.634% 89.804%, 16.723% 89.777%, 16.811% 89.749%, 16.898% 89.72%, 16.984% 89.69%,
        17.07% 89.659%, 17.155% 89.627%, 17.239% 89.594%, 17.323% 89.559%, 17.406% 89.524%,
        17.406% 89.524%, 18.764% 91.763%, 20.268% 93.695%, 21.899% 95.335%, 23.639% 96.696%,
        25.466% 97.796%, 27.364% 98.648%, 29.312% 99.267%, 31.291% 99.669%, 33.281% 99.869%,
        35.265% 99.881%, 35.265% 99.881%, 37.204% 99.716%, 39.152% 99.364%, 41.086% 98.81%,
        42.982% 98.039%, 44.818% 97.037%, 46.57% 95.789%, 48.216% 94.281%, 49.733% 92.497%,
        51.097% 90.423%, 52.285% 88.045%, 52.285% 88.045%, 52.613% 88.03%, 52.941% 88.006%,
        53.268% 87.974%, 53.596% 87.932%, 53.924% 87.883%, 54.252% 87.825%, 54.58% 87.76%,
        54.907% 87.686%, 55.235% 87.606%, 55.563% 87.517%, 55.563% 87.517%, 56.701% 89.03%,
        57.907% 90.405%, 59.173% 91.64%, 60.492% 92.733%, 61.86% 93.682%, 63.268% 94.487%,
        64.712% 95.145%, 66.183% 95.656%, 67.675% 96.016%, 69.183% 96.225%, 69.183% 96.225%,
        70.986% 96.212%, 72.749% 95.872%, 74.466% 95.229%, 76.134% 94.307%, 77.746% 93.127%,
        79.298% 91.715%, 80.784% 90.093%, 82.2% 88.284%, 83.541% 86.312%, 84.801% 84.201%,
        84.801% 84.201%, 85.12% 83.613%, 85.428% 83.014%, 85.724% 82.403%, 86.009% 81.781%,
        86.282% 81.148%, 86.543% 80.506%, 86.793% 79.853%, 87.032% 79.191%, 87.258% 78.52%,
        87.473% 77.84%, 87.473% 77.84%, 88.153% 77.897%, 88.834% 77.883%, 89.514% 77.802%,
        90.192% 77.654%, 90.864% 77.441%, 91.529% 77.165%, 92.184% 76.827%, 92.828% 76.429%,
        93.458% 75.973%, 94.073% 75.46%, 94.073% 75.46%, 94.856% 74.659%, 95.566% 73.733%,
        96.202% 72.696%, 96.769% 71.559%, 97.267% 70.334%, 97.698% 69.035%, 98.065% 67.673%,
        98.369% 66.26%, 98.613% 64.81%, 98.797% 63.334%, 98.797% 63.334%, 98.894% 62.023%,
        98.915% 60.717%, 98.862% 59.423%, 98.738% 58.146%, 98.545% 56.892%, 98.284% 55.668%,
        97.958% 54.48%, 97.569% 53.334%, 97.12% 52.235%, 96.612% 51.191%, 96.612% 51.191%,
        96.993% 50.688%, 97.355% 50.158%, 97.696% 49.599%, 98.016% 49.009%, 98.313% 48.387%,
        98.586% 47.73%, 98.836% 47.038%, 99.059% 46.308%, 99.256% 45.539%, 99.426% 44.728%
      );
    }

    /* Paletas de color */
    html[data-theme="light"] {
      --bg: #f7f7f7;
      --text: #333333;
      --accent: #fcc61d;
      --clouds: #DEB887;
    }

    html[data-theme="dark"] {
      --bg: #07040a;
      --text: #f4eaef;
      --accent: #ff7a6a;
      --clouds: #7c5aa8;
    }

    /* Reset b√°sico */
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 20px;
      font-family: system-ui, -apple-system, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      overflow-x: hidden;
      transition: background-color 0.3s, color 0.3s;
      line-height: 1.6;
    }

    /* Contenedor de fondo de nubes */
    #backgroundContainer {
      position: fixed;
      top: 0;
      left: 0;
      width: 200%;
      height: 200%;
      pointer-events: none;
      overflow: hidden;
      z-index: -2;
    }

    /* Estilo de cada nube */
    .cloud {
      position: absolute;
      background: var(--clouds);
      clip-path: var(--nube);
      filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.15));
      animation: float linear infinite;
    }

    /* Animaciones de flotaci√≥n */
    @keyframes float1 {
      0% {
        transform: translate(0, 0);
      }
      50% {
        transform: translate(-30px, 20px) rotate(1deg);
      }
      100% {
        transform: translate(0, 0);
      }
    }

    @keyframes float2 {
      0% {
        transform: translate(0, 0);
      }
      50% {
        transform: translate(25px, -15px) rotate(-1deg);
      }
      100% {
        transform: translate(0, 0);
      }
    }

    @keyframes float3 {
      0% {
        transform: translate(0, 0);
      }
      50% {
        transform: translate(-20px, -25px) rotate(2deg);
      }
      100% {
        transform: translate(0, 0);
      }
    }

    @keyframes float4 {
      0% {
        transform: translate(0, 0);
      }
      50% {
        transform: translate(35px, 10px) rotate(-2deg);
      }
      100% {
        transform: translate(0, 0);
      }
    }

    /* Botones de control */
    nav {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 10px;
      z-index: 1000;
    }

    nav button {
      background: var(--accent);
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 24px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    nav button:hover {
      transform: scale(1.1);
    }

    /* Contenido de ejemplo */
    .container {
      max-width: 800px;
      margin: 100px auto;
      padding: 40px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      backdrop-filter: blur(10px);
    }

    h1 {
      font-size: 2.5em;
      margin-bottom: 0.5em;
    }

    p {
      margin-bottom: 1em;
    }
  </style>
</head>

<body>
  <!-- Contenedor de nubes (fondo din√°mico) -->
  <div id="backgroundContainer"></div>

  <!-- Botones de control -->
  <nav>
    <button id="randomizeClouds" aria-label="regenerar nubes">‚òÅÔ∏è</button>
    <button id="toggleTheme" aria-label="cambiar tema">‚ö´Ô∏è</button>
  </nav>

  <!-- Contenido de ejemplo -->
  <div class="container">
    <h1>Generador de Nubes</h1>
    <p>
      Este es un ejemplo m√≠nimo del generador de nubes de fondo. Las nubes se generan autom√°ticamente al cargar la
      p√°gina.
    </p>
    <p>
      Usa el bot√≥n ‚òÅÔ∏è para regenerar las nubes con par√°metros aleatorios diferentes.
    </p>
    <p>
      Usa el bot√≥n de tema para alternar entre modo claro y oscuro.
    </p>
  </div>

  <script>
    (() => {
      // Utilidades
      const qs = (sel) => document.querySelector(sel);
      const randomBetween = (min, max) => Math.random() * (max - min) + min;

      // Gesti√≥n de tema
      const themeBtn = qs("#toggleTheme");
      const root = document.documentElement;
      const themes = ["light", "dark"];
      const emojis = { light: "‚ö™Ô∏è", dark: "‚ö´Ô∏è" };

      let currentThemeIndex = Math.max(0, themes.indexOf(root.getAttribute("data-theme")));

      function applyTheme(theme) {
        root.setAttribute("data-theme", theme);
        themeBtn.textContent = emojis[theme] || "üéõÔ∏è";
        currentThemeIndex = themes.indexOf(theme);
      }

      themeBtn.addEventListener("click", () => {
        currentThemeIndex = (currentThemeIndex + 1) % themes.length;
        applyTheme(themes[currentThemeIndex]);
      });

      // Gesti√≥n de nubes
      const bgContainer = qs("#backgroundContainer");

      function getRandomCloudParams() {
        let minW = randomBetween(40, 250);
        let maxW = randomBetween(400, 600);
        if (minW > maxW) [minW, maxW] = [maxW, minW];

        const isMobile = window.innerWidth <= 600;
        const count = isMobile
          ? Math.floor(randomBetween(20, 35))
          : Math.floor(randomBetween(50, 120));

        return {
          count,
          minWidth: minW,
          maxWidth: maxW,
          durationRange: [randomBetween(12, 20), randomBetween(22, 30)],
        };
      }

      function clearContainer(container) {
        while (container.firstChild) {
          container.removeChild(container.firstChild);
        }
      }

      function createCloud(params) {
        const cloud = document.createElement("div");
        cloud.className = "cloud";

        const w = randomBetween(params.minWidth, params.maxWidth);
        cloud.style.width = `${w}px`;
        cloud.style.height = `${w * randomBetween(0.6, 0.8)}px`;
        cloud.style.top = `${randomBetween(-10, 110)}%`;
        cloud.style.left = `${randomBetween(-10, 110)}%`;
        cloud.style.opacity = "1";

        cloud.style.animationDuration = `${randomBetween(...params.durationRange)}s`;
        cloud.style.animationDelay = `${randomBetween(0, 5)}s`;
        cloud.style.animationName = `float${Math.floor(randomBetween(1, 5))}`;

        return cloud;
      }

      function generateClouds(params) {
        clearContainer(bgContainer);

        const frag = document.createDocumentFragment();
        for (let i = 0; i < params.count; i++) {
          frag.appendChild(createCloud(params));
        }
        bgContainer.appendChild(frag);
      }

      // Inicializar
      let cloudParams = getRandomCloudParams();
      generateClouds(cloudParams);

      // Bot√≥n de randomizaci√≥n
      qs("#randomizeClouds").addEventListener("click", () => {
        cloudParams = getRandomCloudParams();
        generateClouds(cloudParams);
      });
    })();
  </script>
</body>

</html>
